<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ExBoot Laboratory · HyperExperience</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      color-scheme: dark;
      --bg-primary: radial-gradient(circle at 20% 20%, rgba(76,201,240,0.15), transparent 55%),
                     radial-gradient(circle at 80% 30%, rgba(244,114,182,0.18), transparent 60%),
                     radial-gradient(circle at 50% 80%, rgba(16,185,129,0.22), transparent 65%),
                     #040711;
      --glass: rgba(10, 14, 24, 0.72);
      --glass-soft: rgba(15, 19, 32, 0.82);
      --border: rgba(148, 163, 184, 0.22);
      --accent: #47f5c0;
      --accent-strong: #7cf7ff;
      --text-primary: #f8fafc;
      --text-muted: rgba(226, 232, 240, 0.72);
      --shadow-strong: 0 20px 45px rgba(15, 23, 42, 0.35);
      --radius-xl: 28px;
      --radius-lg: 20px;
      --radius-md: 16px;
      --transition: cubic-bezier(.25,.8,.25,1);
    }

    *, *::before, *::after { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      overflow-x: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .stellar-orb {
      position: fixed;
      width: 32rem;
      height: 32rem;
      border-radius: 50%;
      filter: blur(0px);
      opacity: 0.45;
      z-index: 0;
      pointer-events: none;
      mix-blend-mode: screen;
      background: radial-gradient(circle, rgba(71,245,192,0.32) 0%, rgba(4,7,17,0) 70%);
      animation: drift 22s ease-in-out infinite;
    }

    .orb-1 { top: -12rem; left: -6rem; }
    .orb-2 { bottom: -10rem; right: -4rem; animation-delay: -8s; background: radial-gradient(circle, rgba(124,247,255,0.25) 0%, rgba(4,7,17,0) 70%); }
    .orb-3 { top: 45vh; right: 50%; transform: translateX(50%); animation-delay: -14s; background: radial-gradient(circle, rgba(244,114,182,0.28) 0%, rgba(4,7,17,0) 70%); }

    @keyframes drift {
      0%, 100% { transform: translate3d(0,0,0) scale(1); }
      40% { transform: translate3d(35px, -25px, 0) scale(1.05); }
      70% { transform: translate3d(-25px, 20px, 0) scale(0.96); }
    }

    .stellar-header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(4, 7, 17, 0.7);
      backdrop-filter: saturate(180%) blur(18px);
      border-bottom: 1px solid rgba(148, 163, 184, 0.18);
    }

    .stellar-container {
      width: min(1200px, 92vw);
      margin: 0 auto;
      padding: 1.2rem 0 1.6rem;
    }

    .stellar-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .stellar-brand {
      display: flex;
      align-items: center;
      gap: 0.9rem;
      font-family: 'Space Grotesk', sans-serif;
    }

    .brand-mark {
      display: grid;
      place-items: center;
      width: 2.75rem;
      height: 2.75rem;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(71,245,192,0.2), rgba(124,247,255,0.25));
      border: 1px solid rgba(148, 163, 184, 0.2);
      font-weight: 600;
      letter-spacing: 0.05em;
      color: var(--accent-strong);
      box-shadow: inset 0 0 0 1px rgba(148,163,184,0.12), 0 10px 20px rgba(15,23,42,0.28);
    }

    .brand-text strong {
      display: block;
      font-size: 1.05rem;
      letter-spacing: 0.02em;
    }

    .brand-text span {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .nav-toggle {
      display: none;
      width: 2.8rem;
      height: 2.8rem;
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.18);
      background: rgba(15, 19, 32, 0.68);
      color: var(--text-primary);
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.35s var(--transition), background 0.35s var(--transition);
    }

    .nav-toggle:hover { background: rgba(30, 41, 69, 0.75); }

    .nav-toggle span,
    .nav-toggle span::before,
    .nav-toggle span::after {
      display: block;
      width: 18px;
      height: 2px;
      background: currentColor;
      border-radius: 999px;
      position: relative;
      transition: transform 0.35s ease, opacity 0.3s ease;
    }

    .nav-toggle span::before,
    .nav-toggle span::after {
      content: '';
      position: absolute;
      left: 0;
    }

    .nav-toggle span::before { top: -6px; }
    .nav-toggle span::after { top: 6px; }

    .nav-toggle.is-open span { background: transparent; }
    .nav-toggle.is-open span::before { transform: translateY(6px) rotate(45deg); }
    .nav-toggle.is-open span::after { transform: translateY(-6px) rotate(-45deg); }

    .stellar-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 1.4rem;
      border-radius: var(--radius-lg);
      padding: 0.35rem;
      background: rgba(8, 12, 24, 0.55);
      border: 1px solid rgba(148, 163, 184, 0.16);
      box-shadow: inset 0 0 0 1px rgba(148,163,184,0.06);
    }

    .stellar-nav a {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.65rem 1.05rem;
      border-radius: 14px;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--text-muted);
      transition: color 0.3s var(--transition), transform 0.3s var(--transition), background 0.3s var(--transition);
    }

    .stellar-nav a::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(71,245,192,0.16), rgba(124,247,255,0.14));
      opacity: 0;
      transition: opacity 0.35s var(--transition);
      z-index: -1;
    }

    .stellar-nav a:hover {
      color: var(--text-primary);
      transform: translateY(-2px);
    }

    .stellar-nav a:hover::after { opacity: 1; }

    .stellar-nav a.active {
      color: var(--text-primary);
    }

    .stellar-nav a.active::after {
      opacity: 1;
      box-shadow: 0 8px 20px rgba(71, 245, 192, 0.18);
    }

    .stellar-main {
      flex: 1;
      width: min(1200px, 92vw);
      margin: 0 auto;
      padding: 4.8rem 0 6rem;
      display: flex;
      flex-direction: column;
      gap: 3.2rem;
      position: relative;
      z-index: 1;
    }

    .glass-card {
      background: var(--glass);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-strong);
      padding: clamp(2rem, 3vw, 3rem);
      backdrop-filter: blur(26px);
      position: relative;
      overflow: hidden;
    }

    .glass-card::before {
      content: '';
      position: absolute;
      inset: 1px;
      border-radius: calc(var(--radius-xl) - 2px);
      border: 1px solid rgba(148, 163, 184, 0.12);
      pointer-events: none;
    }

    .hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 2.4rem;
      align-items: center;
    }

    .hero h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: clamp(2.6rem, 4vw, 3.4rem);
      line-height: 1.07;
      margin: 0 0 1.2rem;
      letter-spacing: -0.015em;
    }

    .hero p {
      font-size: 1.05rem;
      color: var(--text-muted);
      line-height: 1.7;
      margin: 0 0 2rem;
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      align-items: center;
    }

    .stellar-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      padding: 0.85rem 1.6rem;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(71,245,192,0.9), rgba(124,247,255,0.85));
      color: #020617;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      box-shadow: 0 14px 35px rgba(71, 245, 192, 0.3);
      transition: transform 0.3s var(--transition), box-shadow 0.3s var(--transition);
    }

    .stellar-button:hover {
      transform: translateY(-3px) scale(1.01);
      box-shadow: 0 18px 42px rgba(71, 245, 192, 0.38);
    }

    .stellar-button.secondary {
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(148, 163, 184, 0.32);
      color: var(--text-primary);
      box-shadow: inset 0 0 0 1px rgba(148,163,184,0.08);
    }

    .stellar-button.secondary:hover {
      background: rgba(30, 41, 69, 0.75);
      box-shadow: 0 16px 38px rgba(15, 23, 42, 0.45);
    }

    .halo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.8rem;
    }

    .halo-card {
      position: relative;
      border-radius: var(--radius-lg);
      background: rgba(11, 18, 31, 0.78);
      border: 1px solid rgba(148, 163, 184, 0.15);
      padding: 1.6rem 1.8rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.35s var(--transition), border-color 0.35s var(--transition), box-shadow 0.35s var(--transition);
    }

    .halo-card::before {
      content: '';
      position: absolute;
      inset: -120%;
      background: radial-gradient(circle, rgba(71,245,192,0.28), transparent 65%);
      opacity: 0;
      transition: opacity 0.35s ease, transform 0.4s ease;
    }

    .halo-card:hover {
      transform: translateY(-6px);
      border-color: rgba(71, 245, 192, 0.4);
      box-shadow: 0 18px 38px rgba(15, 23, 42, 0.55);
    }

    .halo-card:hover::before {
      opacity: 1;
      transform: translate(35%, 35%);
    }

    .halo-card.active {
      border-color: rgba(71, 245, 192, 0.55);
      box-shadow: 0 20px 48px rgba(71, 245, 192, 0.28);
    }


    .halo-card .card-icon {
      width: 3.2rem;
      height: 3.2rem;
      border-radius: 18px;
      display: grid;
      place-items: center;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.22);
      box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.08), 0 12px 26px rgba(4, 7, 17, 0.45);
      transition: transform 0.35s var(--transition), box-shadow 0.35s var(--transition);
    }

    .halo-card:hover .card-icon {
      transform: translateY(-2px) scale(1.05);
      box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.12), 0 18px 38px rgba(4, 7, 17, 0.55);
    }

    .halo-card .card-icon svg {
      width: 70%;
      height: 70%;
      stroke: currentColor;
      stroke-width: 1.6;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
    }

    .card-icon-populate {
      background: linear-gradient(135deg, rgba(71, 245, 192, 0.26), rgba(124, 247, 255, 0.18));
      color: #86f7ff;
    }

    .card-icon-modules {
      background: linear-gradient(135deg, rgba(165, 180, 252, 0.28), rgba(129, 140, 248, 0.2));
      color: #c7d2fe;
    }

    .card-icon-move {
      background: linear-gradient(135deg, rgba(74, 222, 128, 0.24), rgba(34, 197, 94, 0.18));
      color: #bbf7d0;
    }

    .card-icon-importer {
      background: linear-gradient(135deg, rgba(244, 114, 182, 0.28), rgba(251, 191, 36, 0.16));
      color: #fbcfe8;
    }

    .card-icon-generator {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.28), rgba(129, 230, 217, 0.18));
      color: #bfdbfe;
    }

    .card-icon-manual {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.28), rgba(190, 24, 93, 0.18));
      color: #f9a8d4;
    }

    .card-icon-relocate {
      background: linear-gradient(135deg, rgba(45, 212, 191, 0.3), rgba(14, 165, 233, 0.2));
      color: #99f6e4;
    }

    .card-icon-fix {
      background: linear-gradient(135deg, rgba(248, 113, 113, 0.28), rgba(248, 150, 30, 0.2));
      color: #fecdd3;
    }

    .card-icon-reports {
      background: linear-gradient(135deg, rgba(14, 165, 233, 0.3), rgba(99, 102, 241, 0.2));
      color: #bae6fd;
    }


    .halo-card h3 {
      margin: 0;
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.25rem;
      letter-spacing: 0.01em;
    }

    .halo-card p {
      margin: 0;
      color: var(--text-muted);
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .halo-card span {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      color: rgba(124, 247, 255, 0.6);
    }

    .insights-panel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.8rem;
    }

    .insight-card {
      border-radius: var(--radius-lg);
      padding: 1.8rem;
      background: rgba(8, 12, 23, 0.78);
      border: 1px solid rgba(148,163,184,0.14);
      box-shadow: 0 16px 34px rgba(8, 12, 23, 0.48);
      position: relative;
      overflow: hidden;
    }

    .insight-card::after {
      content: '';
      position: absolute;
      inset: -30%;
      background: conic-gradient(from 120deg, rgba(71,245,192,0.18), transparent 60%);
      opacity: 0.6;
      filter: blur(60px);
    }

    .insight-card h4 {
      margin: 0 0 0.4rem;
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.1rem;
      letter-spacing: 0.05em;
      color: var(--accent-strong);
    }

    .insight-card p {
      margin: 0;
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text-muted);
    }

    .insight-metric {
      font-size: 2.6rem;
      font-weight: 600;
      line-height: 1;
      letter-spacing: -0.02em;
      margin-bottom: 0.6rem;
      color: var(--text-primary);
    }

    .module-preview {
      position: relative;
      padding: clamp(1.8rem, 4vw, 2.6rem);
      border-radius: var(--radius-xl);
      background: var(--glass-soft);
      border: 1px solid rgba(148, 163, 184, 0.18);
      box-shadow: 0 24px 56px rgba(3, 7, 18, 0.6);
      overflow: hidden;
    }

    .module-preview::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top right, rgba(71,245,192,0.18), transparent 55%);
      opacity: 0.7;
      pointer-events: none;
    }

    .module-preview h2 {
      margin: 0 0 0.8rem;
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2rem;
    }

    .module-preview p {
      margin: 0 0 1.8rem;
      max-width: 65ch;
      color: var(--text-muted);
      line-height: 1.7;
    }

    .module-preview ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 0.8rem;
      font-size: 0.95rem;
    }

    .module-preview li {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 16px;
      background: rgba(8, 12, 20, 0.62);
      border: 1px solid rgba(148, 163, 184, 0.12);
      transition: transform 0.3s var(--transition), border-color 0.3s var(--transition);
    }

    .module-preview li:hover {
      transform: translateX(4px);
      border-color: rgba(71, 245, 192, 0.38);
    }

    .module-preview strong { color: var(--text-primary); }
    .module-preview span { color: var(--text-muted); }

    .pulse-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 0 rgba(71,245,192,0.6);
      animation: pulse 2.6s ease-in-out infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(71,245,192,0.55); }
      70% { box-shadow: 0 0 0 12px rgba(71,245,192,0); }
      100% { box-shadow: 0 0 0 0 rgba(71,245,192,0); }
    }

    [data-animate] {
      opacity: 0;
      transform: translateY(22px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    [data-animate].is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    footer {
      color: rgba(226, 232, 240, 0.55);
      text-align: center;
      padding: 2.4rem 0 3rem;
      font-size: 0.85rem;
    }

    @media (max-width: 960px) {
      .nav-toggle { display: inline-flex; }
      body.nav-open .stellar-nav {
        max-height: 550px;
        opacity: 1;
        pointer-events: auto;
        margin-top: 1.2rem;
      }

      .stellar-nav {
        flex-direction: column;
        max-height: 0;
        opacity: 0;
        pointer-events: none;
        overflow: hidden;
        transition: max-height 0.4s ease, opacity 0.4s ease;
      }

      .stellar-nav a {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 720px) {
      .hero {
        grid-template-columns: 1fr;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
    }
  </style>
</head>
<body>
  <div class="stellar-orb orb-1"></div>
  <div class="stellar-orb orb-2"></div>
  <div class="stellar-orb orb-3"></div>

  <header class="stellar-header">
    <div class="stellar-container">
      <div class="stellar-top">
        <div class="stellar-brand">
          <span class="brand-mark">EX</span>
          <div class="brand-text">
            <strong>ExBoot Laboratory</strong>
            <span>Console d'orchestration pédagogique</span>
          </div>
        </div>
        <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-label="Afficher le menu">
          <span></span>
        </button>
      </div>
      <nav class="stellar-nav" id="stellarNav">
        <a href="{{ url_for('home') }}" data-route="{{ url_for('home') }}">Accueil</a>
        <a href="{{ url_for('populate_index') }}" data-route="{{ url_for('populate_index') }}">Populate</a>
        <a href="{{ url_for('dom.index') }}" data-route="{{ url_for('dom.index') }}">Import Modules</a>
        <a href="{{ url_for('move.index') }}" data-route="{{ url_for('move.index') }}">Move Questions</a>
        <a href="{{ url_for('reloc.index') }}" data-route="{{ url_for('reloc.index') }}">Relocate</a>
        <a href="{{ url_for('pdf.index') }}" data-route="{{ url_for('pdf.index') }}">PDF Importer</a>
        <a href="{{ url_for('pdf.generate_index') }}" data-route="{{ url_for('pdf.generate_index') }}">PDF Generator</a>
        <a href="{{ url_for('quest.index') }}" data-route="{{ url_for('quest.index') }}">Manual Import</a>
        <a href="{{ url_for('fix_index') }}" data-route="{{ url_for('fix_index') }}">Fix Questions</a>
        <a href="{{ url_for('reports') }}" data-route="{{ url_for('reports') }}">Reports</a>
      </nav>
    </div>
  </header>

  <main class="stellar-main">
    <section class="glass-card hero" data-animate>
      <div>
        <div class="pulse-dot"></div>
        <h1>Une plateforme réinventée pour piloter l'excellence de vos examens</h1>
        <p>Centralisez l'import, la génération IA, la relocalisation intelligente et la réparation des banques de questions au sein d'une expérience immersive pensée pour la vitesse et la précision.</p>
        <div class="hero-cta">
          <a class="stellar-button" href="{{ url_for('pdf.generate_index') }}">Générer depuis un PDF</a>
          <a class="stellar-button secondary" href="{{ url_for('populate_index') }}">Synchroniser une certification</a>
        </div>
      </div>
      <div class="module-preview" id="modulePreview">
        <h2 data-preview-title>Navigation quantique</h2>
        <p data-preview-description>Survolez les modules pour découvrir comment ExBoot fluidifie chaque étape de votre pipeline de contenus pédagogiques.</p>
        <ul>
          <li><strong data-preview-highlight>Répartition intelligente</strong><span data-preview-subtext>Gestion des providers, certifications et domaines en cascade.</span></li>
          <li><strong>Suivi temps réel</strong><span>Monitorez la progression, les anomalies et l'état de vos jobs en direct.</span></li>
          <li><strong>Automatisation guidée</strong><span>Déplacez, relocalisez et générez des questions en quelques clics.</span></li>
        </ul>
      </div>
    </section>

    <section class="halo-grid" data-animate>
      <article class="halo-card active" data-destination="{{ url_for('populate_index') }}" data-title="Populate" data-description="Analyse la structure d'une certification et importe massivement les questions synchronisées depuis nos providers." data-highlight="Ingestion orchestrée" data-subtext="Analyse automatique & suivi live de progression.">
        <span>01</span>
        <div class="card-icon card-icon-populate" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <rect x="3.5" y="4.5" width="7" height="7" rx="2"></rect>
            <rect x="13.5" y="12.5" width="7" height="7" rx="2"></rect>
            <path d="M10.5 8h5a2.5 2.5 0 0 1 2.5 2.5v4.5"></path>
            <path d="M10.5 8l2.7 2.7"></path>
          </svg>
        </div>

        <h3>Populate</h3>
        <p>Orchestrez des importations massives tout en gardant un contrôle granulaire sur chaque domaine.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('dom.index') }}" data-title="Import Modules" data-description="Créez ou mettez à jour des domaines en série à partir d'un simple JSON, avec validations instantanées." data-highlight="Domaines express" data-subtext="Validation automatique & feedback en temps réel.">
        <span>02</span>

        <div class="card-icon card-icon-modules" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M5 5.5h9.5v4.5H5z"></path>
            <path d="M9.5 5.5V3.5"></path>
            <path d="M9.5 10v10.5"></path>
            <path d="M13.5 13H19a2 2 0 0 1 2 2v5.5H9.5"></path>
            <path d="M13.5 13l2.5-2.5"></path>
          </svg>
        </div>

        <h3>Import Modules</h3>
        <p>Déployez une structure pédagogique en quelques secondes, connectée à vos providers.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('move.index') }}" data-title="Move Questions" data-description="Réaffectez vos questions en masse entre domaines et certifications en toute sécurité." data-highlight="Transfert sécurisé" data-subtext="Filtrage avancé & confirmation instantanée.">
        <span>03</span>

        <div class="card-icon card-icon-move" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M5 8h9"></path>
            <path d="M10 3.5 14.5 8 10 12.5"></path>
            <path d="M19 16h-9"></path>
            <path d="M14 11.5 9.5 16 14 20.5"></path>
          </svg>
        </div>

        <h3>Move Questions</h3>
        <p>Rééquilibrez vos banques en déplaçant les contenus exactement là où ils sont nécessaires.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('pdf.index') }}" data-title="PDF Importer" data-description="Analysez un PDF, détectez automatiquement les questions et préparez un JSON prêt à importer." data-highlight="Extraction IA" data-subtext="Détection assistée & matching automatique des réponses.">
        <span>04</span>

        <div class="card-icon card-icon-importer" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M6.5 4.5h7l4 4v6.5A2.5 2.5 0 0 1 15 17.5H6.5z"></path>
            <path d="M13.5 4.5v4h4"></path>
            <circle cx="17.5" cy="18.5" r="2.5"></circle>
            <path d="m19.2 20.2 1.8 1.8"></path>
          </svg>
        </div>

        <h3>PDF Importer</h3>
        <p>Transformez vos supports statiques en questions exploitables, boostées par l'IA.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('pdf.generate_index') }}" data-title="PDF Generator" data-description="Générez de nouvelles questions à partir d'un PDF référent, avec distribution intelligente." data-highlight="Création générative" data-subtext="Multi-natures, scénarios et illustrations.">
        <span>05</span>

        <div class="card-icon card-icon-generator" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M6 5h7.5l3 3V19a2 2 0 0 1-2 2H6z"></path>
            <path d="M13.5 5v4h4"></path>
            <path d="M11 13.5 12 15"></path>
            <path d="M14.5 12l.5 1.5"></path>
            <path d="M9 16.5 10 18"></path>
            <path d="M12.5 18.5 14 19"></path>
          </svg>
        </div>

        <h3>PDF Generator</h3>
        <p>Propulsez la création d'exercices avec des scénarios riches et équilibrés.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('quest.index') }}" data-title="Manual Import" data-description="Ajoutez ou corrigez manuellement une question en gardant l'historique aligné." data-highlight="Micro-édition" data-subtext="Formulaires dynamiques & validations immédiates.">
        <span>06</span>

        <div class="card-icon card-icon-manual" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M5 5.5h9.5v4.5H5z"></path>
            <path d="M9.5 5.5V3.5"></path>
            <path d="m12 14.5 4.8-4.8a1.4 1.4 0 0 1 2 0l1.5 1.5a1.4 1.4 0 0 1 0 2L15.5 18"></path>
            <path d="M12 14.5v3.5h3.5"></path>
          </svg>
        </div>

        <h3>Manual Import</h3>
        <p>Affinez les détails question par question grâce à une interface rapide et tactile.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('reloc.index') }}" data-title="Relocate" data-description="Relocalisez intelligemment grâce à l'IA et relancez automatiquement les traitements si nécessaire." data-highlight="Boucle auto-corrective" data-subtext="Streaming SSE & reprise automatique.">
        <span>07</span>

        <div class="card-icon card-icon-relocate" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="5"></circle>
            <path d="M11 6V3.5"></path>
            <path d="m14.5 13.5 3 3"></path>
            <path d="M16 9.5 20.5 5"></path>
            <path d="M20.5 5v4.5"></path>
          </svg>
        </div>

        <h3>Relocate</h3>
        <p>Redistribuez vos questions selon les besoins du moment sans perdre en cohérence.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('fix_index') }}" data-title="Fix Questions" data-description="Corrigez les réponses manquantes, drag & drop et matching en batch avec pilotage temps réel." data-highlight="Qualité garantie" data-subtext="Jobs suivis & reprise automatique.">
        <span>08</span>

        <div class="card-icon card-icon-fix" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M6.5 19.5h4.5l7-7a2 2 0 0 0 0-2.8l-1.7-1.7a2 2 0 0 0-2.8 0l-7 7z"></path>
            <path d="M5 15.5 8.5 19"></path>
            <path d="M14.5 7 17 9.5"></path>
          </svg>
        </div>

        <h3>Fix Questions</h3>
        <p>Verrouillez la qualité de vos banques grâce à des scripts de correction dirigés.</p>
      </article>
      <article class="halo-card" data-destination="{{ url_for('reports') }}" data-title="Reports" data-description="Visualisez vos métriques clés, identifiez les anomalies et déclenchez les bonnes actions." data-highlight="Clarté analytique" data-subtext="Cartes dynamiques & collapsibles interactifs.">
        <span>09</span>

        <div class="card-icon card-icon-reports" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M5 18.5h14"></path>
            <rect x="6.5" y="11" width="2.5" height="5.5" rx="0.6"></rect>
            <rect x="11" y="8.5" width="2.5" height="8" rx="0.6"></rect>
            <rect x="15.5" y="6" width="2.5" height="10.5" rx="0.6"></rect>
            <path d="M6.5 6.5 11 4.5 15.5 6"></path>
          </svg>
        </div>
        <h3>Reports</h3>
        <p>Gardez la main sur vos indicateurs via des tableaux lumineux et réactifs.</p>
      </article>
    </section>

    <section class="insights-panel" data-animate>
      <article class="insight-card">
        <h4>En moyenne</h4>
        <div class="insight-metric">+62%</div>
        <p>de rapidité sur les opérations d'importation et de correction grâce à la nouvelle interface immersive.</p>
      </article>
      <article class="insight-card">
        <h4>Jobs actifs</h4>
        <div class="insight-metric">12</div>
        <p>processus suivis en simultané avec alertes et monitoring centralisé.</p>
      </article>
      <article class="insight-card">
        <h4>Satisfaction</h4>
        <div class="insight-metric">4.9 ★</div>
        <p>Retours internes sur la navigation, la lisibilité et la fluidité des workflows.</p>
      </article>
    </section>
  </main>

  <footer>
    ExBoot Laboratory &mdash; où la gestion des examens rencontre l'innovation continue.
  </footer>

  <script>
    const toggle = document.getElementById('navToggle');
    const nav = document.getElementById('stellarNav');
    if (toggle) {
      toggle.addEventListener('click', () => {
        const isOpen = toggle.classList.toggle('is-open');
        document.body.classList.toggle('nav-open', isOpen);
        toggle.setAttribute('aria-expanded', isOpen);
      });
    }

    const currentPath = window.location.pathname.replace(/\/$/, '') || '/';
    nav?.querySelectorAll('a[data-route]').forEach(link => {
      const target = (link.dataset.route || '').replace(/\/$/, '') || '/';
      if (target === '/' ? currentPath === '/' : currentPath.startsWith(target)) {
        nav.querySelectorAll('a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
      }
    });

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('[data-animate]').forEach(el => observer.observe(el));

    const previewTitle = document.querySelector('[data-preview-title]');
    const previewDescription = document.querySelector('[data-preview-description]');
    const previewHighlight = document.querySelector('[data-preview-highlight]');
    const previewSubtext = document.querySelector('[data-preview-subtext]');
    const cards = document.querySelectorAll('.halo-card');

    cards.forEach(card => {
      card.addEventListener('mouseenter', () => updatePreview(card));
      card.addEventListener('focus', () => updatePreview(card));
      card.addEventListener('click', () => {
        const target = card.dataset.destination;
        if (target) {
          window.location.assign(target);
        }
      });
    });

    function updatePreview(card) {
      cards.forEach(c => c.classList.remove('active'));
      card.classList.add('active');
      if (previewTitle) previewTitle.textContent = card.dataset.title || 'Module';
      if (previewDescription) previewDescription.textContent = card.dataset.description || '';
      if (previewHighlight) previewHighlight.textContent = card.dataset.highlight || '';
      if (previewSubtext) previewSubtext.textContent = card.dataset.subtext || '';
    }

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Enter' && document.activeElement?.classList.contains('halo-card')) {
        document.activeElement.click();
      }
    });
  </script>
</body>
</html>
